# Phase 0 Intent Evidence
# Project: d:\prod\simple_ml
# Date: 2026-01-29

## Intent Approval Status

Intent captured and approved: YES
Refined intent document: intent-v2.md
AI external review conducted: NO (direct answers from research phase)
Approval timestamp: 2026-01-29

## Intent Summary

**What:** Formally-verified ML library with 6 supervised algorithms + optional GPU acceleration (Phase 1.5)
**Why:** Formal verification gap for regulated domains; NVIDIA GPU hardware support for users with 5070 Ti, etc.
**Who:** Enterprise data scientists, fintech/healthtech, autonomous systems, academic researchers, Eiffel community

## Key Decisions (from research + intent refinement)

### GPU Strategy
- Phase 1.5: NVIDIA CUDA/cuBLAS/cuDNN integration (optional backend)
- Expected speedup: 5-20x for matrix operations
- CPU path unchanged; GPU is opt-in
- Targets: 5070 Ti, 4090, A100, H100, etc.
- Installation: `pip install simple-ml[gpu]`

### Phase 2+ Deferrals (All Justified)
- **Distributed Training (Phase 2+):** Multi-machine complexity, requires simple_distributed lib
- **Large Datasets (Phase 2+):** Out-of-core training adds I/O complexity
- **Advanced Ensembles (Phase 2+):** Stacking/blending specializations; RF covers 80%
- **Advanced NN (Phase 2+):** Conv/RNN domain-specific; MLP covers basics
- **AutoML/NAS (Phase 2+):** Requires search algorithms not in simple_optimization yet
- **Time Series (Phase 2+):** Specialized; could be separate simple_timeseries
- **Causal Inference (Phase 3+):** Orthogonal to supervised learning; domain expertise required
- **NLP (Future simple_nlp):** Separate specialized domain

### simple_* First Policy Exception
- EXCEPTION: C/C++ GPU libraries (CUDA, cuBLAS, cuDNN) allowed as optional trusted backends
- Rationale: GPU is optional; CPU path unchanged; matches ISE base library pattern
- Applies to: Phase 1.5+ GPU acceleration only

## MVP Acceptance Criteria

Core (Phases 1-3):
- [ ] 6 algorithms: Linear Reg, Logistic Reg, Decision Tree, Random Forest, SVM, Neural Network
- [ ] 100% Design by Contract coverage
- [ ] Evaluation framework: Accuracy, Precision, Recall, F1, Confusion Matrix, ROC-AUC, MSE, RÂ²
- [ ] Data preprocessing: Feature scaling, train-test split, k-fold CV
- [ ] Integration: simple_optimization, simple_linalg, simple_statistics, simple_mml, simple_random
- [ ] 100% test pass rate
- [ ] Validation vs reference implementations (scikit-learn, R)
- [ ] Numerical stability (no NaN/Inf)
- [ ] Production v1.0.0 release
- [ ] Regulatory-ready (formal verification hooks)

Phase 1.5 (GPU):
- [ ] GPU acceleration optional (CUDA/cuBLAS/cuDNN)
- [ ] 5-20x speedup for matrix operations
- [ ] CPU path preserved
- [ ] Contracts on GPU wrapper
- [ ] CPU vs GPU equivalence (IEEE 754 epsilon)

## Dependencies Identified

Simple_* (MVP):
- simple_linalg (matrix operations)
- simple_optimization (gradient descent solver)
- simple_statistics (distributions)
- simple_random (sampling)
- simple_mml (MML contracts)

ISE only (MVP):
- base (fundamental types)
- testing (EQA_TEST_SET)

GPU optional (Phase 1.5+):
- CUDA (NVIDIA GPU runtime)
- cuBLAS (GPU matrix operations)
- cuDNN (GPU neural network ops)

Future (Phase 2+):
- simple_distributed (TBD - for distributed training)
- simple_optimization enhancement (Bayesian search for AutoML)
- simple_timeseries (TBD - for time series)
- simple_causal (TBD - for causal inference)

## MML Decision

MML Required: YES

Rationale:
- Training data immutability contracts
- Learned classes model tracking
- Weight stability (no NaN/Inf)
- Frame conditions using MML_SET, MML_SEQUENCE

Implementation:
- Phase 1: Add simple_mml to ECF, create model queries
- Phase 4: Use in postconditions
- Phase 5: Validate postconditions satisfied

## Timeline

Phase 1: 2 weeks (Contracts + Skeletal Tests)
Phase 2: 1 week (Adversarial Review)
Phase 3: 3 days (Task Decomposition)
Phase 1.5: 2 weeks (GPU Integration - optional, parallel possible)
Phase 4: 4-5 weeks (Implementation)
Phase 5: 2 weeks (Test Generation)
Phase 6: 1.5 weeks (Adversarial Testing)
Phase 7: 1 week (Production Release v1.0.0)

Total: 11-12 weeks (CPU-only) or 13-14 weeks (with GPU)

## Research Foundation

All decisions based on comprehensive research:
- 01-SCOPE.md: Problem, users, success criteria, GPU strategy
- 02-LANDSCAPE.md: Competitive analysis, ML ecosystem positioning
- 03-REQUIREMENTS.md: Functional/non-functional requirements, use cases
- 04-DECISIONS.md: 10 architectural decisions (D-001 through D-010, D-008b GPU exception)
- 05-INNOVATIONS.md: 7 innovations (contract-verified ML, transparency, ecosystem synergy)
- 06-RISKS.md: 10 risks with mitigations (RISK-001 GPU, RISK-001b GPU integration bugs)
- 07-RECOMMENDATION.md: BUILD recommendation with Phase 1.5 GPU strategy
- UPDATES-GPU-STRATEGY.md: Comprehensive change summary with justifications

## Status

Phase 0: COMPLETE

Intent document: intent-v2.md
AI review: NOT CONDUCTED (direct approval from research phase)
Questions answered: N/A
User approved: YES

Ready for Phase 1: Contracts

Next command: `/eiffel.contracts d:\prod\simple_ml`
